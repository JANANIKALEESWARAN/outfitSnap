{"ast":null,"code":"var _jsxFileName = \"D:\\\\ec\\\\E_Commerence\\\\frontend\\\\src\\\\Components\\\\VirtualTryOn\\\\VirtualTryOn.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport \"./VirtualTryOn.css\";\n\n/*\n  VirtualTryOn component\n  - User can upload a photo or use camera\n  - Product image is overlaid on top with controls (move/scale/rotate)\n  - Download the composed image\n  - Reuses parent add-to-cart logic via onAddToCart prop\n*/\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst constraints = {\n  video: {\n    width: 640,\n    height: 480\n  },\n  audio: false\n};\nexport const VirtualTryOn = ({\n  productImage,\n  productName,\n  onAddToCart,\n  isLoggedIn\n}) => {\n  _s();\n  const [mode, setMode] = useState(\"upload\"); // 'upload' | 'camera'\n  const [bgImage, setBgImage] = useState(null); // Image element for user's photo\n  const [overlay, setOverlay] = useState({\n    scale: 1,\n    rotation: 0,\n    x: 0,\n    y: 0\n  });\n  const [canvasSize, setCanvasSize] = useState({\n    width: 640,\n    height: 480\n  });\n  const videoRef = useRef(null);\n  const streamRef = useRef(null);\n  const canvasRef = useRef(null);\n  const productImgRef = useRef(null);\n\n  // Camera handling\n  useEffect(() => {\n    const startCamera = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia(constraints);\n        streamRef.current = stream;\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n          await videoRef.current.play();\n        }\n        setCanvasSize({\n          width: constraints.video.width,\n          height: constraints.video.height\n        });\n      } catch (err) {\n        console.error(\"Camera error:\", err);\n        alert(\"Unable to access camera. Please allow permission or use Upload mode.\");\n        setMode(\"upload\");\n      }\n    };\n    const stopCamera = () => {\n      if (streamRef.current) {\n        streamRef.current.getTracks().forEach(t => t.stop());\n        streamRef.current = null;\n      }\n    };\n    if (mode === \"camera\") startCamera();else stopCamera();\n    return () => stopCamera();\n  }, [mode]);\n\n  // File upload -> load as Image\n  const onFileChange = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = () => {\n      const img = new Image();\n      img.onload = () => {\n        setBgImage(img);\n        const maxW = 800,\n          maxH = 800;\n        let w = img.width,\n          h = img.height;\n        const ratio = Math.min(maxW / w, maxH / h, 1);\n        setCanvasSize({\n          width: Math.round(w * ratio),\n          height: Math.round(h * ratio)\n        });\n      };\n      img.src = reader.result;\n    };\n    reader.readAsDataURL(file);\n  };\n\n  // Capture from camera\n  const captureFromCamera = () => {\n    if (!videoRef.current) return;\n    const {\n      videoWidth: w,\n      videoHeight: h\n    } = videoRef.current;\n    setCanvasSize({\n      width: w,\n      height: h\n    });\n    const temp = document.createElement(\"canvas\");\n    temp.width = w;\n    temp.height = h;\n    const ctx = temp.getContext(\"2d\");\n    ctx.drawImage(videoRef.current, 0, 0, w, h);\n    const img = new Image();\n    img.onload = () => setBgImage(img);\n    img.src = temp.toDataURL(\"image/png\");\n  };\n\n  // Draw composition\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas === null || canvas === void 0 ? void 0 : canvas.getContext(\"2d\");\n    if (!canvas || !ctx) return;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    if (bgImage) {\n      const scale = Math.min(canvas.width / bgImage.width, canvas.height / bgImage.height);\n      const drawW = bgImage.width * scale;\n      const drawH = bgImage.height * scale;\n      const offsetX = (canvas.width - drawW) / 2;\n      const offsetY = (canvas.height - drawH) / 2;\n      ctx.drawImage(bgImage, offsetX, offsetY, drawW, drawH);\n    } else if (mode === \"camera\") {\n      if (videoRef.current && !videoRef.current.paused) {\n        ctx.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\n      }\n    } else {\n      // placeholder bg\n      ctx.fillStyle = \"#f5f5f5\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n    const productImg = productImgRef.current;\n    if (productImg) {\n      const baseSize = Math.min(canvas.width, canvas.height) * 0.6;\n      const overlayW = baseSize * overlay.scale;\n      const overlayH = overlayW * (productImg.naturalHeight / Math.max(productImg.naturalWidth, 1));\n      const centerX = canvas.width / 2 + overlay.x;\n      const centerY = canvas.height / 2 + overlay.y;\n      ctx.save();\n      ctx.translate(centerX, centerY);\n      ctx.rotate(overlay.rotation * Math.PI / 180);\n      ctx.drawImage(productImg, -overlayW / 2, -overlayH / 2, overlayW, overlayH);\n      ctx.restore();\n    }\n  }, [bgImage, mode, overlay, canvasSize]);\n\n  // Live refresh in camera mode\n  useEffect(() => {\n    if (mode !== \"camera\") return;\n    const id = setInterval(() => {\n      const canvas = canvasRef.current;\n      const ctx = canvas === null || canvas === void 0 ? void 0 : canvas.getContext(\"2d\");\n      if (!canvas || !ctx) return;\n      // redraw\n      const productImg = productImgRef.current;\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      if (videoRef.current) {\n        ctx.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\n        if (productImg) {\n          const baseSize = Math.min(canvas.width, canvas.height) * 0.6;\n          const overlayW = baseSize * overlay.scale;\n          const overlayH = overlayW * (productImg.naturalHeight / Math.max(productImg.naturalWidth, 1));\n          const centerX = canvas.width / 2 + overlay.x;\n          const centerY = canvas.height / 2 + overlay.y;\n          ctx.save();\n          ctx.translate(centerX, centerY);\n          ctx.rotate(overlay.rotation * Math.PI / 180);\n          ctx.drawImage(productImg, -overlayW / 2, -overlayH / 2, overlayW, overlayH);\n          ctx.restore();\n        }\n      }\n    }, 100);\n    return () => clearInterval(id);\n  }, [mode, overlay]);\n  const downloadImage = () => {\n    try {\n      const link = document.createElement(\"a\");\n      link.download = `${productName || \"product\"}-tryon.png`;\n      link.href = canvasRef.current.toDataURL(\"image/png\");\n      link.click();\n    } catch (err) {\n      console.error(\"Download failed:\", err);\n      alert(\"Download failed. If product images come from a different domain, enable CORS or use same-origin images.\");\n    }\n  };\n  const handleAddToCart = () => {\n    if (!onAddToCart) return;\n    if (isLoggedIn) onAddToCart();else alert(\"Please login to add items to cart.\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"vto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Virtual Try-On\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vto-mode\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: mode === \"upload\" ? \"active\" : \"\",\n        onClick: () => setMode(\"upload\"),\n        children: \"Upload Photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: mode === \"camera\" ? \"active\" : \"\",\n        onClick: () => setMode(\"camera\"),\n        children: \"Use Camera\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vto-stage\",\n      children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: canvasSize.width,\n        height: canvasSize.height,\n        className: \"vto-canvas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        ref: productImgRef,\n        src: productImage,\n        alt: productName,\n        crossOrigin: \"anonymous\",\n        style: {\n          display: \"none\"\n        },\n        onLoad: () => {\n          /* trigger first draw via state change */setOverlay(o => ({\n            ...o\n          }));\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), mode === \"upload\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vto-upload\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: onFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }, this), mode === \"camera\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vto-camera\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        className: \"vto-video\",\n        playsInline: true,\n        muted: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: captureFromCamera,\n        children: \"Capture Photo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vto-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ctrl\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Position X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: -canvasSize.width / 2,\n          max: canvasSize.width / 2,\n          value: overlay.x,\n          onChange: e => setOverlay({\n            ...overlay,\n            x: Number(e.target.value)\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ctrl\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Position Y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: -canvasSize.height / 2,\n          max: canvasSize.height / 2,\n          value: overlay.y,\n          onChange: e => setOverlay({\n            ...overlay,\n            y: Number(e.target.value)\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ctrl\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Scale\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: 0.2,\n          max: 2,\n          step: 0.01,\n          value: overlay.scale,\n          onChange: e => setOverlay({\n            ...overlay,\n            scale: Number(e.target.value)\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ctrl\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Rotation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: -180,\n          max: 180,\n          value: overlay.rotation,\n          onChange: e => setOverlay({\n            ...overlay,\n            rotation: Number(e.target.value)\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vto-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: downloadImage,\n        children: \"Download Result\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn primary\",\n        onClick: handleAddToCart,\n        children: \"Add To Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }, this);\n};\n_s(VirtualTryOn, \"0QGQk2o+oUeXRPr9EDBJED2h8Kc=\");\n_c = VirtualTryOn;\nexport default VirtualTryOn;\nvar _c;\n$RefreshReg$(_c, \"VirtualTryOn\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","constraints","video","width","height","audio","VirtualTryOn","productImage","productName","onAddToCart","isLoggedIn","_s","mode","setMode","bgImage","setBgImage","overlay","setOverlay","scale","rotation","x","y","canvasSize","setCanvasSize","videoRef","streamRef","canvasRef","productImgRef","startCamera","stream","navigator","mediaDevices","getUserMedia","current","srcObject","play","err","console","error","alert","stopCamera","getTracks","forEach","t","stop","onFileChange","e","_e$target$files","file","target","files","reader","FileReader","onload","img","Image","maxW","maxH","w","h","ratio","Math","min","round","src","result","readAsDataURL","captureFromCamera","videoWidth","videoHeight","temp","document","createElement","ctx","getContext","drawImage","toDataURL","canvas","clearRect","drawW","drawH","offsetX","offsetY","paused","fillStyle","fillRect","productImg","baseSize","overlayW","overlayH","naturalHeight","max","naturalWidth","centerX","centerY","save","translate","rotate","PI","restore","id","setInterval","clearInterval","downloadImage","link","download","href","click","handleAddToCart","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","alt","crossOrigin","style","display","onLoad","o","type","accept","onChange","playsInline","muted","value","Number","step","_c","$RefreshReg$"],"sources":["D:/ec/E_Commerence/frontend/src/Components/VirtualTryOn/VirtualTryOn.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport \"./VirtualTryOn.css\";\n\n/*\n  VirtualTryOn component\n  - User can upload a photo or use camera\n  - Product image is overlaid on top with controls (move/scale/rotate)\n  - Download the composed image\n  - Reuses parent add-to-cart logic via onAddToCart prop\n*/\n\nconst constraints = { video: { width: 640, height: 480 }, audio: false };\n\nexport const VirtualTryOn = ({ productImage, productName, onAddToCart, isLoggedIn }) => {\n  const [mode, setMode] = useState(\"upload\"); // 'upload' | 'camera'\n  const [bgImage, setBgImage] = useState(null); // Image element for user's photo\n  const [overlay, setOverlay] = useState({ scale: 1, rotation: 0, x: 0, y: 0 });\n  const [canvasSize, setCanvasSize] = useState({ width: 640, height: 480 });\n\n  const videoRef = useRef(null);\n  const streamRef = useRef(null);\n  const canvasRef = useRef(null);\n  const productImgRef = useRef(null);\n\n  // Camera handling\n  useEffect(() => {\n    const startCamera = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia(constraints);\n        streamRef.current = stream;\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n          await videoRef.current.play();\n        }\n        setCanvasSize({ width: constraints.video.width, height: constraints.video.height });\n      } catch (err) {\n        console.error(\"Camera error:\", err);\n        alert(\"Unable to access camera. Please allow permission or use Upload mode.\");\n        setMode(\"upload\");\n      }\n    };\n    const stopCamera = () => {\n      if (streamRef.current) {\n        streamRef.current.getTracks().forEach((t) => t.stop());\n        streamRef.current = null;\n      }\n    };\n    if (mode === \"camera\") startCamera(); else stopCamera();\n    return () => stopCamera();\n  }, [mode]);\n\n  // File upload -> load as Image\n  const onFileChange = (e) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = () => {\n      const img = new Image();\n      img.onload = () => {\n        setBgImage(img);\n        const maxW = 800, maxH = 800;\n        let w = img.width, h = img.height;\n        const ratio = Math.min(maxW / w, maxH / h, 1);\n        setCanvasSize({ width: Math.round(w * ratio), height: Math.round(h * ratio) });\n      };\n      img.src = reader.result;\n    };\n    reader.readAsDataURL(file);\n  };\n\n  // Capture from camera\n  const captureFromCamera = () => {\n    if (!videoRef.current) return;\n    const { videoWidth: w, videoHeight: h } = videoRef.current;\n    setCanvasSize({ width: w, height: h });\n    const temp = document.createElement(\"canvas\");\n    temp.width = w; temp.height = h;\n    const ctx = temp.getContext(\"2d\");\n    ctx.drawImage(videoRef.current, 0, 0, w, h);\n    const img = new Image();\n    img.onload = () => setBgImage(img);\n    img.src = temp.toDataURL(\"image/png\");\n  };\n\n  // Draw composition\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas?.getContext(\"2d\");\n    if (!canvas || !ctx) return;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    if (bgImage) {\n      const scale = Math.min(canvas.width / bgImage.width, canvas.height / bgImage.height);\n      const drawW = bgImage.width * scale;\n      const drawH = bgImage.height * scale;\n      const offsetX = (canvas.width - drawW) / 2;\n      const offsetY = (canvas.height - drawH) / 2;\n      ctx.drawImage(bgImage, offsetX, offsetY, drawW, drawH);\n    } else if (mode === \"camera\") {\n      if (videoRef.current && !videoRef.current.paused) {\n        ctx.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\n      }\n    } else {\n      // placeholder bg\n      ctx.fillStyle = \"#f5f5f5\";\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n\n    const productImg = productImgRef.current;\n    if (productImg) {\n      const baseSize = Math.min(canvas.width, canvas.height) * 0.6;\n      const overlayW = baseSize * overlay.scale;\n      const overlayH = overlayW * (productImg.naturalHeight / Math.max(productImg.naturalWidth, 1));\n      const centerX = canvas.width / 2 + overlay.x;\n      const centerY = canvas.height / 2 + overlay.y;\n\n      ctx.save();\n      ctx.translate(centerX, centerY);\n      ctx.rotate((overlay.rotation * Math.PI) / 180);\n      ctx.drawImage(productImg, -overlayW / 2, -overlayH / 2, overlayW, overlayH);\n      ctx.restore();\n    }\n  }, [bgImage, mode, overlay, canvasSize]);\n\n  // Live refresh in camera mode\n  useEffect(() => {\n    if (mode !== \"camera\") return;\n    const id = setInterval(() => {\n      const canvas = canvasRef.current;\n      const ctx = canvas?.getContext(\"2d\");\n      if (!canvas || !ctx) return;\n      // redraw\n      const productImg = productImgRef.current;\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      if (videoRef.current) {\n        ctx.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\n        if (productImg) {\n          const baseSize = Math.min(canvas.width, canvas.height) * 0.6;\n          const overlayW = baseSize * overlay.scale;\n          const overlayH = overlayW * (productImg.naturalHeight / Math.max(productImg.naturalWidth, 1));\n          const centerX = canvas.width / 2 + overlay.x;\n          const centerY = canvas.height / 2 + overlay.y;\n          ctx.save();\n          ctx.translate(centerX, centerY);\n          ctx.rotate((overlay.rotation * Math.PI) / 180);\n          ctx.drawImage(productImg, -overlayW / 2, -overlayH / 2, overlayW, overlayH);\n          ctx.restore();\n        }\n      }\n    }, 100);\n    return () => clearInterval(id);\n  }, [mode, overlay]);\n\n  const downloadImage = () => {\n    try {\n      const link = document.createElement(\"a\");\n      link.download = `${productName || \"product\"}-tryon.png`;\n      link.href = canvasRef.current.toDataURL(\"image/png\");\n      link.click();\n    } catch (err) {\n      console.error(\"Download failed:\", err);\n      alert(\"Download failed. If product images come from a different domain, enable CORS or use same-origin images.\");\n    }\n  };\n\n  const handleAddToCart = () => {\n    if (!onAddToCart) return;\n    if (isLoggedIn) onAddToCart();\n    else alert(\"Please login to add items to cart.\");\n  };\n\n  return (\n    <div className=\"vto\">\n      <h2>Virtual Try-On</h2>\n\n      <div className=\"vto-mode\">\n        <button className={mode === \"upload\" ? \"active\" : \"\"} onClick={() => setMode(\"upload\")}>\n          Upload Photo\n        </button>\n        <button className={mode === \"camera\" ? \"active\" : \"\"} onClick={() => setMode(\"camera\")}>\n          Use Camera\n        </button>\n      </div>\n\n      <div className=\"vto-stage\">\n        <canvas ref={canvasRef} width={canvasSize.width} height={canvasSize.height} className=\"vto-canvas\" />\n        <img\n          ref={productImgRef}\n          src={productImage}\n          alt={productName}\n          crossOrigin=\"anonymous\"\n          style={{ display: \"none\" }}\n          onLoad={() => {/* trigger first draw via state change */ setOverlay((o) => ({...o})) }}\n        />\n      </div>\n\n      {mode === \"upload\" && (\n        <div className=\"vto-upload\">\n          <input type=\"file\" accept=\"image/*\" onChange={onFileChange} />\n        </div>\n      )}\n\n      {mode === \"camera\" && (\n        <div className=\"vto-camera\">\n          <video ref={videoRef} className=\"vto-video\" playsInline muted />\n          <button onClick={captureFromCamera}>Capture Photo</button>\n        </div>\n      )}\n\n      <div className=\"vto-controls\">\n        <div className=\"ctrl\">\n          <label>Position X</label>\n          <input type=\"range\" min={-canvasSize.width/2} max={canvasSize.width/2} value={overlay.x} onChange={(e)=>setOverlay({...overlay, x:Number(e.target.value)})} />\n        </div>\n        <div className=\"ctrl\">\n          <label>Position Y</label>\n          <input type=\"range\" min={-canvasSize.height/2} max={canvasSize.height/2} value={overlay.y} onChange={(e)=>setOverlay({...overlay, y:Number(e.target.value)})} />\n        </div>\n        <div className=\"ctrl\">\n          <label>Scale</label>\n          <input type=\"range\" min={0.2} max={2} step={0.01} value={overlay.scale} onChange={(e)=>setOverlay({...overlay, scale:Number(e.target.value)})} />\n        </div>\n        <div className=\"ctrl\">\n          <label>Rotation</label>\n          <input type=\"range\" min={-180} max={180} value={overlay.rotation} onChange={(e)=>setOverlay({...overlay, rotation:Number(e.target.value)})} />\n        </div>\n      </div>\n\n      <div className=\"vto-actions\">\n        <button className=\"btn\" onClick={downloadImage}>Download Result</button>\n        <button className=\"btn primary\" onClick={handleAddToCart}>Add To Cart</button>\n      </div>\n    </div>\n  );\n};\n\nexport default VirtualTryOn;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,OAAO,oBAAoB;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AANA,SAAAC,MAAA,IAAAC,OAAA;AAQA,MAAMC,WAAW,GAAG;EAAEC,KAAK,EAAE;IAAEC,KAAK,EAAE,GAAG;IAAEC,MAAM,EAAE;EAAI,CAAC;EAAEC,KAAK,EAAE;AAAM,CAAC;AAExE,OAAO,MAAMC,YAAY,GAAGA,CAAC;EAAEC,YAAY;EAAEC,WAAW;EAAEC,WAAW;EAAEC;AAAW,CAAC,KAAK;EAAAC,EAAA;EACtF,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;EAC5C,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EAC9C,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC;IAAEoB,KAAK,EAAE,CAAC;IAAEC,QAAQ,EAAE,CAAC;IAAEC,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;EAC7E,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGzB,QAAQ,CAAC;IAAEK,KAAK,EAAE,GAAG;IAAEC,MAAM,EAAE;EAAI,CAAC,CAAC;EAEzE,MAAMoB,QAAQ,GAAG3B,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAM4B,SAAS,GAAG5B,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM6B,SAAS,GAAG7B,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM8B,aAAa,GAAG9B,MAAM,CAAC,IAAI,CAAC;;EAElC;EACAD,SAAS,CAAC,MAAM;IACd,MAAMgC,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACF,MAAMC,MAAM,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC/B,WAAW,CAAC;QACrEwB,SAAS,CAACQ,OAAO,GAAGJ,MAAM;QAC1B,IAAIL,QAAQ,CAACS,OAAO,EAAE;UACpBT,QAAQ,CAACS,OAAO,CAACC,SAAS,GAAGL,MAAM;UACnC,MAAML,QAAQ,CAACS,OAAO,CAACE,IAAI,CAAC,CAAC;QAC/B;QACAZ,aAAa,CAAC;UAAEpB,KAAK,EAAEF,WAAW,CAACC,KAAK,CAACC,KAAK;UAAEC,MAAM,EAAEH,WAAW,CAACC,KAAK,CAACE;QAAO,CAAC,CAAC;MACrF,CAAC,CAAC,OAAOgC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,eAAe,EAAEF,GAAG,CAAC;QACnCG,KAAK,CAAC,sEAAsE,CAAC;QAC7E1B,OAAO,CAAC,QAAQ,CAAC;MACnB;IACF,CAAC;IACD,MAAM2B,UAAU,GAAGA,CAAA,KAAM;MACvB,IAAIf,SAAS,CAACQ,OAAO,EAAE;QACrBR,SAAS,CAACQ,OAAO,CAACQ,SAAS,CAAC,CAAC,CAACC,OAAO,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;QACtDnB,SAAS,CAACQ,OAAO,GAAG,IAAI;MAC1B;IACF,CAAC;IACD,IAAIrB,IAAI,KAAK,QAAQ,EAAEgB,WAAW,CAAC,CAAC,CAAC,KAAMY,UAAU,CAAC,CAAC;IACvD,OAAO,MAAMA,UAAU,CAAC,CAAC;EAC3B,CAAC,EAAE,CAAC5B,IAAI,CAAC,CAAC;;EAEV;EACA,MAAMiC,YAAY,GAAIC,CAAC,IAAK;IAAA,IAAAC,eAAA;IAC1B,MAAMC,IAAI,IAAAD,eAAA,GAAGD,CAAC,CAACG,MAAM,CAACC,KAAK,cAAAH,eAAA,uBAAdA,eAAA,CAAiB,CAAC,CAAC;IAChC,IAAI,CAACC,IAAI,EAAE;IACX,MAAMG,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;IAC/BD,MAAM,CAACE,MAAM,GAAG,MAAM;MACpB,MAAMC,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;MACvBD,GAAG,CAACD,MAAM,GAAG,MAAM;QACjBtC,UAAU,CAACuC,GAAG,CAAC;QACf,MAAME,IAAI,GAAG,GAAG;UAAEC,IAAI,GAAG,GAAG;QAC5B,IAAIC,CAAC,GAAGJ,GAAG,CAACnD,KAAK;UAAEwD,CAAC,GAAGL,GAAG,CAAClD,MAAM;QACjC,MAAMwD,KAAK,GAAGC,IAAI,CAACC,GAAG,CAACN,IAAI,GAAGE,CAAC,EAAED,IAAI,GAAGE,CAAC,EAAE,CAAC,CAAC;QAC7CpC,aAAa,CAAC;UAAEpB,KAAK,EAAE0D,IAAI,CAACE,KAAK,CAACL,CAAC,GAAGE,KAAK,CAAC;UAAExD,MAAM,EAAEyD,IAAI,CAACE,KAAK,CAACJ,CAAC,GAAGC,KAAK;QAAE,CAAC,CAAC;MAChF,CAAC;MACDN,GAAG,CAACU,GAAG,GAAGb,MAAM,CAACc,MAAM;IACzB,CAAC;IACDd,MAAM,CAACe,aAAa,CAAClB,IAAI,CAAC;EAC5B,CAAC;;EAED;EACA,MAAMmB,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,IAAI,CAAC3C,QAAQ,CAACS,OAAO,EAAE;IACvB,MAAM;MAAEmC,UAAU,EAAEV,CAAC;MAAEW,WAAW,EAAEV;IAAE,CAAC,GAAGnC,QAAQ,CAACS,OAAO;IAC1DV,aAAa,CAAC;MAAEpB,KAAK,EAAEuD,CAAC;MAAEtD,MAAM,EAAEuD;IAAE,CAAC,CAAC;IACtC,MAAMW,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC7CF,IAAI,CAACnE,KAAK,GAAGuD,CAAC;IAAEY,IAAI,CAAClE,MAAM,GAAGuD,CAAC;IAC/B,MAAMc,GAAG,GAAGH,IAAI,CAACI,UAAU,CAAC,IAAI,CAAC;IACjCD,GAAG,CAACE,SAAS,CAACnD,QAAQ,CAACS,OAAO,EAAE,CAAC,EAAE,CAAC,EAAEyB,CAAC,EAAEC,CAAC,CAAC;IAC3C,MAAML,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;IACvBD,GAAG,CAACD,MAAM,GAAG,MAAMtC,UAAU,CAACuC,GAAG,CAAC;IAClCA,GAAG,CAACU,GAAG,GAAGM,IAAI,CAACM,SAAS,CAAC,WAAW,CAAC;EACvC,CAAC;;EAED;EACAhF,SAAS,CAAC,MAAM;IACd,MAAMiF,MAAM,GAAGnD,SAAS,CAACO,OAAO;IAChC,MAAMwC,GAAG,GAAGI,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEH,UAAU,CAAC,IAAI,CAAC;IACpC,IAAI,CAACG,MAAM,IAAI,CAACJ,GAAG,EAAE;IACrBA,GAAG,CAACK,SAAS,CAAC,CAAC,EAAE,CAAC,EAAED,MAAM,CAAC1E,KAAK,EAAE0E,MAAM,CAACzE,MAAM,CAAC;IAEhD,IAAIU,OAAO,EAAE;MACX,MAAMI,KAAK,GAAG2C,IAAI,CAACC,GAAG,CAACe,MAAM,CAAC1E,KAAK,GAAGW,OAAO,CAACX,KAAK,EAAE0E,MAAM,CAACzE,MAAM,GAAGU,OAAO,CAACV,MAAM,CAAC;MACpF,MAAM2E,KAAK,GAAGjE,OAAO,CAACX,KAAK,GAAGe,KAAK;MACnC,MAAM8D,KAAK,GAAGlE,OAAO,CAACV,MAAM,GAAGc,KAAK;MACpC,MAAM+D,OAAO,GAAG,CAACJ,MAAM,CAAC1E,KAAK,GAAG4E,KAAK,IAAI,CAAC;MAC1C,MAAMG,OAAO,GAAG,CAACL,MAAM,CAACzE,MAAM,GAAG4E,KAAK,IAAI,CAAC;MAC3CP,GAAG,CAACE,SAAS,CAAC7D,OAAO,EAAEmE,OAAO,EAAEC,OAAO,EAAEH,KAAK,EAAEC,KAAK,CAAC;IACxD,CAAC,MAAM,IAAIpE,IAAI,KAAK,QAAQ,EAAE;MAC5B,IAAIY,QAAQ,CAACS,OAAO,IAAI,CAACT,QAAQ,CAACS,OAAO,CAACkD,MAAM,EAAE;QAChDV,GAAG,CAACE,SAAS,CAACnD,QAAQ,CAACS,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE4C,MAAM,CAAC1E,KAAK,EAAE0E,MAAM,CAACzE,MAAM,CAAC;MACpE;IACF,CAAC,MAAM;MACL;MACAqE,GAAG,CAACW,SAAS,GAAG,SAAS;MACzBX,GAAG,CAACY,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAER,MAAM,CAAC1E,KAAK,EAAE0E,MAAM,CAACzE,MAAM,CAAC;IACjD;IAEA,MAAMkF,UAAU,GAAG3D,aAAa,CAACM,OAAO;IACxC,IAAIqD,UAAU,EAAE;MACd,MAAMC,QAAQ,GAAG1B,IAAI,CAACC,GAAG,CAACe,MAAM,CAAC1E,KAAK,EAAE0E,MAAM,CAACzE,MAAM,CAAC,GAAG,GAAG;MAC5D,MAAMoF,QAAQ,GAAGD,QAAQ,GAAGvE,OAAO,CAACE,KAAK;MACzC,MAAMuE,QAAQ,GAAGD,QAAQ,IAAIF,UAAU,CAACI,aAAa,GAAG7B,IAAI,CAAC8B,GAAG,CAACL,UAAU,CAACM,YAAY,EAAE,CAAC,CAAC,CAAC;MAC7F,MAAMC,OAAO,GAAGhB,MAAM,CAAC1E,KAAK,GAAG,CAAC,GAAGa,OAAO,CAACI,CAAC;MAC5C,MAAM0E,OAAO,GAAGjB,MAAM,CAACzE,MAAM,GAAG,CAAC,GAAGY,OAAO,CAACK,CAAC;MAE7CoD,GAAG,CAACsB,IAAI,CAAC,CAAC;MACVtB,GAAG,CAACuB,SAAS,CAACH,OAAO,EAAEC,OAAO,CAAC;MAC/BrB,GAAG,CAACwB,MAAM,CAAEjF,OAAO,CAACG,QAAQ,GAAG0C,IAAI,CAACqC,EAAE,GAAI,GAAG,CAAC;MAC9CzB,GAAG,CAACE,SAAS,CAACW,UAAU,EAAE,CAACE,QAAQ,GAAG,CAAC,EAAE,CAACC,QAAQ,GAAG,CAAC,EAAED,QAAQ,EAAEC,QAAQ,CAAC;MAC3EhB,GAAG,CAAC0B,OAAO,CAAC,CAAC;IACf;EACF,CAAC,EAAE,CAACrF,OAAO,EAAEF,IAAI,EAAEI,OAAO,EAAEM,UAAU,CAAC,CAAC;;EAExC;EACA1B,SAAS,CAAC,MAAM;IACd,IAAIgB,IAAI,KAAK,QAAQ,EAAE;IACvB,MAAMwF,EAAE,GAAGC,WAAW,CAAC,MAAM;MAC3B,MAAMxB,MAAM,GAAGnD,SAAS,CAACO,OAAO;MAChC,MAAMwC,GAAG,GAAGI,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEH,UAAU,CAAC,IAAI,CAAC;MACpC,IAAI,CAACG,MAAM,IAAI,CAACJ,GAAG,EAAE;MACrB;MACA,MAAMa,UAAU,GAAG3D,aAAa,CAACM,OAAO;MACxCwC,GAAG,CAACK,SAAS,CAAC,CAAC,EAAE,CAAC,EAAED,MAAM,CAAC1E,KAAK,EAAE0E,MAAM,CAACzE,MAAM,CAAC;MAChD,IAAIoB,QAAQ,CAACS,OAAO,EAAE;QACpBwC,GAAG,CAACE,SAAS,CAACnD,QAAQ,CAACS,OAAO,EAAE,CAAC,EAAE,CAAC,EAAE4C,MAAM,CAAC1E,KAAK,EAAE0E,MAAM,CAACzE,MAAM,CAAC;QAClE,IAAIkF,UAAU,EAAE;UACd,MAAMC,QAAQ,GAAG1B,IAAI,CAACC,GAAG,CAACe,MAAM,CAAC1E,KAAK,EAAE0E,MAAM,CAACzE,MAAM,CAAC,GAAG,GAAG;UAC5D,MAAMoF,QAAQ,GAAGD,QAAQ,GAAGvE,OAAO,CAACE,KAAK;UACzC,MAAMuE,QAAQ,GAAGD,QAAQ,IAAIF,UAAU,CAACI,aAAa,GAAG7B,IAAI,CAAC8B,GAAG,CAACL,UAAU,CAACM,YAAY,EAAE,CAAC,CAAC,CAAC;UAC7F,MAAMC,OAAO,GAAGhB,MAAM,CAAC1E,KAAK,GAAG,CAAC,GAAGa,OAAO,CAACI,CAAC;UAC5C,MAAM0E,OAAO,GAAGjB,MAAM,CAACzE,MAAM,GAAG,CAAC,GAAGY,OAAO,CAACK,CAAC;UAC7CoD,GAAG,CAACsB,IAAI,CAAC,CAAC;UACVtB,GAAG,CAACuB,SAAS,CAACH,OAAO,EAAEC,OAAO,CAAC;UAC/BrB,GAAG,CAACwB,MAAM,CAAEjF,OAAO,CAACG,QAAQ,GAAG0C,IAAI,CAACqC,EAAE,GAAI,GAAG,CAAC;UAC9CzB,GAAG,CAACE,SAAS,CAACW,UAAU,EAAE,CAACE,QAAQ,GAAG,CAAC,EAAE,CAACC,QAAQ,GAAG,CAAC,EAAED,QAAQ,EAAEC,QAAQ,CAAC;UAC3EhB,GAAG,CAAC0B,OAAO,CAAC,CAAC;QACf;MACF;IACF,CAAC,EAAE,GAAG,CAAC;IACP,OAAO,MAAMG,aAAa,CAACF,EAAE,CAAC;EAChC,CAAC,EAAE,CAACxF,IAAI,EAAEI,OAAO,CAAC,CAAC;EAEnB,MAAMuF,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAI;MACF,MAAMC,IAAI,GAAGjC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACxCgC,IAAI,CAACC,QAAQ,GAAG,GAAGjG,WAAW,IAAI,SAAS,YAAY;MACvDgG,IAAI,CAACE,IAAI,GAAGhF,SAAS,CAACO,OAAO,CAAC2C,SAAS,CAAC,WAAW,CAAC;MACpD4B,IAAI,CAACG,KAAK,CAAC,CAAC;IACd,CAAC,CAAC,OAAOvE,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,kBAAkB,EAAEF,GAAG,CAAC;MACtCG,KAAK,CAAC,yGAAyG,CAAC;IAClH;EACF,CAAC;EAED,MAAMqE,eAAe,GAAGA,CAAA,KAAM;IAC5B,IAAI,CAACnG,WAAW,EAAE;IAClB,IAAIC,UAAU,EAAED,WAAW,CAAC,CAAC,CAAC,KACzB8B,KAAK,CAAC,oCAAoC,CAAC;EAClD,CAAC;EAED,oBACEvC,OAAA;IAAK6G,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAClB9G,OAAA;MAAA8G,QAAA,EAAI;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEvBlH,OAAA;MAAK6G,SAAS,EAAC,UAAU;MAAAC,QAAA,gBACvB9G,OAAA;QAAQ6G,SAAS,EAAEjG,IAAI,KAAK,QAAQ,GAAG,QAAQ,GAAG,EAAG;QAACuG,OAAO,EAAEA,CAAA,KAAMtG,OAAO,CAAC,QAAQ,CAAE;QAAAiG,QAAA,EAAC;MAExF;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTlH,OAAA;QAAQ6G,SAAS,EAAEjG,IAAI,KAAK,QAAQ,GAAG,QAAQ,GAAG,EAAG;QAACuG,OAAO,EAAEA,CAAA,KAAMtG,OAAO,CAAC,QAAQ,CAAE;QAAAiG,QAAA,EAAC;MAExF;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAENlH,OAAA;MAAK6G,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACxB9G,OAAA;QAAQoH,GAAG,EAAE1F,SAAU;QAACvB,KAAK,EAAEmB,UAAU,CAACnB,KAAM;QAACC,MAAM,EAAEkB,UAAU,CAAClB,MAAO;QAACyG,SAAS,EAAC;MAAY;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACrGlH,OAAA;QACEoH,GAAG,EAAEzF,aAAc;QACnBqC,GAAG,EAAEzD,YAAa;QAClB8G,GAAG,EAAE7G,WAAY;QACjB8G,WAAW,EAAC,WAAW;QACvBC,KAAK,EAAE;UAAEC,OAAO,EAAE;QAAO,CAAE;QAC3BC,MAAM,EAAEA,CAAA,KAAM;UAAC,yCAA0CxG,UAAU,CAAEyG,CAAC,KAAM;YAAC,GAAGA;UAAC,CAAC,CAAC,CAAC;QAAC;MAAE;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,EAELtG,IAAI,KAAK,QAAQ,iBAChBZ,OAAA;MAAK6G,SAAS,EAAC,YAAY;MAAAC,QAAA,eACzB9G,OAAA;QAAO2H,IAAI,EAAC,MAAM;QAACC,MAAM,EAAC,SAAS;QAACC,QAAQ,EAAEhF;MAAa;QAAAkE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3D,CACN,EAEAtG,IAAI,KAAK,QAAQ,iBAChBZ,OAAA;MAAK6G,SAAS,EAAC,YAAY;MAAAC,QAAA,gBACzB9G,OAAA;QAAOoH,GAAG,EAAE5F,QAAS;QAACqF,SAAS,EAAC,WAAW;QAACiB,WAAW;QAACC,KAAK;MAAA;QAAAhB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAChElH,OAAA;QAAQmH,OAAO,EAAEhD,iBAAkB;QAAA2C,QAAA,EAAC;MAAa;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvD,CACN,eAEDlH,OAAA;MAAK6G,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3B9G,OAAA;QAAK6G,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACnB9G,OAAA;UAAA8G,QAAA,EAAO;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACzBlH,OAAA;UAAO2H,IAAI,EAAC,OAAO;UAAC7D,GAAG,EAAE,CAACxC,UAAU,CAACnB,KAAK,GAAC,CAAE;UAACwF,GAAG,EAAErE,UAAU,CAACnB,KAAK,GAAC,CAAE;UAAC6H,KAAK,EAAEhH,OAAO,CAACI,CAAE;UAACyG,QAAQ,EAAG/E,CAAC,IAAG7B,UAAU,CAAC;YAAC,GAAGD,OAAO;YAAEI,CAAC,EAAC6G,MAAM,CAACnF,CAAC,CAACG,MAAM,CAAC+E,KAAK;UAAC,CAAC;QAAE;UAAAjB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3J,CAAC,eACNlH,OAAA;QAAK6G,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACnB9G,OAAA;UAAA8G,QAAA,EAAO;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACzBlH,OAAA;UAAO2H,IAAI,EAAC,OAAO;UAAC7D,GAAG,EAAE,CAACxC,UAAU,CAAClB,MAAM,GAAC,CAAE;UAACuF,GAAG,EAAErE,UAAU,CAAClB,MAAM,GAAC,CAAE;UAAC4H,KAAK,EAAEhH,OAAO,CAACK,CAAE;UAACwG,QAAQ,EAAG/E,CAAC,IAAG7B,UAAU,CAAC;YAAC,GAAGD,OAAO;YAAEK,CAAC,EAAC4G,MAAM,CAACnF,CAAC,CAACG,MAAM,CAAC+E,KAAK;UAAC,CAAC;QAAE;UAAAjB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7J,CAAC,eACNlH,OAAA;QAAK6G,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACnB9G,OAAA;UAAA8G,QAAA,EAAO;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACpBlH,OAAA;UAAO2H,IAAI,EAAC,OAAO;UAAC7D,GAAG,EAAE,GAAI;UAAC6B,GAAG,EAAE,CAAE;UAACuC,IAAI,EAAE,IAAK;UAACF,KAAK,EAAEhH,OAAO,CAACE,KAAM;UAAC2G,QAAQ,EAAG/E,CAAC,IAAG7B,UAAU,CAAC;YAAC,GAAGD,OAAO;YAAEE,KAAK,EAAC+G,MAAM,CAACnF,CAAC,CAACG,MAAM,CAAC+E,KAAK;UAAC,CAAC;QAAE;UAAAjB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9I,CAAC,eACNlH,OAAA;QAAK6G,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACnB9G,OAAA;UAAA8G,QAAA,EAAO;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACvBlH,OAAA;UAAO2H,IAAI,EAAC,OAAO;UAAC7D,GAAG,EAAE,CAAC,GAAI;UAAC6B,GAAG,EAAE,GAAI;UAACqC,KAAK,EAAEhH,OAAO,CAACG,QAAS;UAAC0G,QAAQ,EAAG/E,CAAC,IAAG7B,UAAU,CAAC;YAAC,GAAGD,OAAO;YAAEG,QAAQ,EAAC8G,MAAM,CAACnF,CAAC,CAACG,MAAM,CAAC+E,KAAK;UAAC,CAAC;QAAE;UAAAjB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3I,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENlH,OAAA;MAAK6G,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC1B9G,OAAA;QAAQ6G,SAAS,EAAC,KAAK;QAACM,OAAO,EAAEZ,aAAc;QAAAO,QAAA,EAAC;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACxElH,OAAA;QAAQ6G,SAAS,EAAC,aAAa;QAACM,OAAO,EAAEP,eAAgB;QAAAE,QAAA,EAAC;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3E,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACvG,EAAA,CA7NWL,YAAY;AAAA6H,EAAA,GAAZ7H,YAAY;AA+NzB,eAAeA,YAAY;AAAC,IAAA6H,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
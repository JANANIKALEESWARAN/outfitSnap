{"ast":null,"code":"var _jsxFileName = \"D:\\\\ec\\\\E_Commerence\\\\frontend\\\\src\\\\Context\\\\WishlistContext.jsx\",\n  _s = $RefreshSig$();\nimport React, { createContext, useEffect, useMemo, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const WishlistContext = /*#__PURE__*/createContext(null);\nconst STORAGE_PREFIX = 'wishlist-items-v1::';\nconst WishlistProvider = ({\n  children\n}) => {\n  _s();\n  const userKey = localStorage.getItem('auth-token') || 'guest';\n  const storageKey = `${STORAGE_PREFIX}${userKey}`;\n  const [wishlist, setWishlist] = useState(() => {\n    try {\n      const raw = localStorage.getItem(storageKey);\n      return raw ? JSON.parse(raw) : [];\n    } catch (e) {\n      return [];\n    }\n  });\n\n  // When the user changes (auth-token changes), load that user's wishlist\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem(storageKey);\n      setWishlist(raw ? JSON.parse(raw) : []);\n    } catch {\n      setWishlist([]);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [storageKey]);\n  useEffect(() => {\n    try {\n      localStorage.setItem(storageKey, JSON.stringify(wishlist));\n    } catch {}\n  }, [wishlist, storageKey]);\n  const toggleWishlist = id => {\n    setWishlist(prev => prev.includes(id) ? prev.filter(x => x !== id) : [...prev, id]);\n  };\n  const clearWishlist = () => setWishlist([]);\n  const isWishlisted = id => wishlist.includes(id);\n  const count = wishlist.length;\n  const value = useMemo(() => ({\n    wishlist,\n    toggleWishlist,\n    clearWishlist,\n    isWishlisted,\n    count\n  }), [wishlist]);\n  return /*#__PURE__*/_jsxDEV(WishlistContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 10\n  }, this);\n};\n_s(WishlistProvider, \"3IVxHdrwnZtn7T4+fl1aevP7yw4=\");\n_c = WishlistProvider;\nexport default WishlistProvider;\nvar _c;\n$RefreshReg$(_c, \"WishlistProvider\");","map":{"version":3,"names":["React","createContext","useEffect","useMemo","useState","jsxDEV","_jsxDEV","WishlistContext","STORAGE_PREFIX","WishlistProvider","children","_s","userKey","localStorage","getItem","storageKey","wishlist","setWishlist","raw","JSON","parse","e","setItem","stringify","toggleWishlist","id","prev","includes","filter","x","clearWishlist","isWishlisted","count","length","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/ec/E_Commerence/frontend/src/Context/WishlistContext.jsx"],"sourcesContent":["import React, { createContext, useEffect, useMemo, useState } from 'react';\n\nexport const WishlistContext = createContext(null);\nconst STORAGE_PREFIX = 'wishlist-items-v1::';\n\nconst WishlistProvider = ({ children }) => {\n  const userKey = localStorage.getItem('auth-token') || 'guest';\n  const storageKey = `${STORAGE_PREFIX}${userKey}`;\n\n  const [wishlist, setWishlist] = useState(() => {\n    try {\n      const raw = localStorage.getItem(storageKey);\n      return raw ? JSON.parse(raw) : [];\n    } catch (e) {\n      return [];\n    }\n  });\n\n  // When the user changes (auth-token changes), load that user's wishlist\n  useEffect(() => {\n    try {\n      const raw = localStorage.getItem(storageKey);\n      setWishlist(raw ? JSON.parse(raw) : []);\n    } catch {\n      setWishlist([]);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [storageKey]);\n\n  useEffect(() => {\n    try {\n      localStorage.setItem(storageKey, JSON.stringify(wishlist));\n    } catch {}\n  }, [wishlist, storageKey]);\n\n  const toggleWishlist = (id) => {\n    setWishlist((prev) => (prev.includes(id) ? prev.filter((x) => x !== id) : [...prev, id]));\n  };\n\n  const clearWishlist = () => setWishlist([]);\n  const isWishlisted = (id) => wishlist.includes(id);\n  const count = wishlist.length;\n\n  const value = useMemo(\n    () => ({ wishlist, toggleWishlist, clearWishlist, isWishlisted, count }),\n    [wishlist]\n  );\n\n  return <WishlistContext.Provider value={value}>{children}</WishlistContext.Provider>;\n};\n\nexport default WishlistProvider;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3E,OAAO,MAAMC,eAAe,gBAAGN,aAAa,CAAC,IAAI,CAAC;AAClD,MAAMO,cAAc,GAAG,qBAAqB;AAE5C,MAAMC,gBAAgB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACzC,MAAMC,OAAO,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,IAAI,OAAO;EAC7D,MAAMC,UAAU,GAAG,GAAGP,cAAc,GAAGI,OAAO,EAAE;EAEhD,MAAM,CAACI,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,MAAM;IAC7C,IAAI;MACF,MAAMc,GAAG,GAAGL,YAAY,CAACC,OAAO,CAACC,UAAU,CAAC;MAC5C,OAAOG,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACF,GAAG,CAAC,GAAG,EAAE;IACnC,CAAC,CAAC,OAAOG,CAAC,EAAE;MACV,OAAO,EAAE;IACX;EACF,CAAC,CAAC;;EAEF;EACAnB,SAAS,CAAC,MAAM;IACd,IAAI;MACF,MAAMgB,GAAG,GAAGL,YAAY,CAACC,OAAO,CAACC,UAAU,CAAC;MAC5CE,WAAW,CAACC,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACF,GAAG,CAAC,GAAG,EAAE,CAAC;IACzC,CAAC,CAAC,MAAM;MACND,WAAW,CAAC,EAAE,CAAC;IACjB;IACA;EACF,CAAC,EAAE,CAACF,UAAU,CAAC,CAAC;EAEhBb,SAAS,CAAC,MAAM;IACd,IAAI;MACFW,YAAY,CAACS,OAAO,CAACP,UAAU,EAAEI,IAAI,CAACI,SAAS,CAACP,QAAQ,CAAC,CAAC;IAC5D,CAAC,CAAC,MAAM,CAAC;EACX,CAAC,EAAE,CAACA,QAAQ,EAAED,UAAU,CAAC,CAAC;EAE1B,MAAMS,cAAc,GAAIC,EAAE,IAAK;IAC7BR,WAAW,CAAES,IAAI,IAAMA,IAAI,CAACC,QAAQ,CAACF,EAAE,CAAC,GAAGC,IAAI,CAACE,MAAM,CAAEC,CAAC,IAAKA,CAAC,KAAKJ,EAAE,CAAC,GAAG,CAAC,GAAGC,IAAI,EAAED,EAAE,CAAE,CAAC;EAC3F,CAAC;EAED,MAAMK,aAAa,GAAGA,CAAA,KAAMb,WAAW,CAAC,EAAE,CAAC;EAC3C,MAAMc,YAAY,GAAIN,EAAE,IAAKT,QAAQ,CAACW,QAAQ,CAACF,EAAE,CAAC;EAClD,MAAMO,KAAK,GAAGhB,QAAQ,CAACiB,MAAM;EAE7B,MAAMC,KAAK,GAAG/B,OAAO,CACnB,OAAO;IAAEa,QAAQ;IAAEQ,cAAc;IAAEM,aAAa;IAAEC,YAAY;IAAEC;EAAM,CAAC,CAAC,EACxE,CAAChB,QAAQ,CACX,CAAC;EAED,oBAAOV,OAAA,CAACC,eAAe,CAAC4B,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAxB,QAAA,EAAEA;EAAQ;IAAA0B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAA2B,CAAC;AACtF,CAAC;AAAC5B,EAAA,CA5CIF,gBAAgB;AAAA+B,EAAA,GAAhB/B,gBAAgB;AA8CtB,eAAeA,gBAAgB;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
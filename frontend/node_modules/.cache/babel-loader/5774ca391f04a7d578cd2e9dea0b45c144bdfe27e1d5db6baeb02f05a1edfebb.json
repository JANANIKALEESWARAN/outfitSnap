{"ast":null,"code":"import _objectSpread from\"D:/ec/E_Commerence/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import'./CSS/LoginSignup.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export const LoginSignup=()=>{const[state,setState]=useState(\"Login\");const[formData,setFormData]=useState({username:\"\",password:\"\",email:\"\"});const changeHandler=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const login=async()=>{console.log(\"Login Function Executed\",formData);let responseData;await fetch('http://localhost:4000/login',{method:'POST',headers:{Accept:'application/form-data','Content-Type':'application/json'},body:JSON.stringify(formData)}).then(response=>response.json()).then(data=>responseData=data);if(responseData.success){localStorage.setItem('auth-token',responseData.token);if(formData.email){try{localStorage.setItem('user-key',String(formData.email).toLowerCase());}catch(_unused){}}window.location.replace(\"/\");}else{alert(responseData.errors);}};const signup=async()=>{console.log(\"Signup Function Executed\",formData);let responseData;await fetch('http://localhost:4000/signup',{method:'POST',headers:{Accept:'application/form-data','Content-Type':'application/json'},body:JSON.stringify(formData)}).then(response=>response.json()).then(data=>responseData=data);if(responseData.success){localStorage.setItem('auth-token',responseData.token);if(formData.email){try{localStorage.setItem('user-key',String(formData.email).toLowerCase());}catch(_unused2){}}window.location.replace(\"/\");}else{alert(responseData.error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"loginsignup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loginsignup-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:state}),/*#__PURE__*/_jsxs(\"div\",{className:\"loginsignup-fields\",children:[state===\"Sign Up\"?/*#__PURE__*/_jsx(\"input\",{name:\"username\",value:formData.username,onChange:changeHandler,type:\"text\",placeholder:\"Your Name\"}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",value:formData.email,onChange:changeHandler,type:\"email\",placeholder:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",value:formData.password,onChange:changeHandler,type:\"password\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{state===\"Login\"?login():signup();},children:\"Continue\"}),state===\"Sign Up\"?/*#__PURE__*/_jsxs(\"p\",{className:\"loginsignup-login\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"span\",{onClick:()=>{setState(\"Login\");},children:\"Login here\"})]}):/*#__PURE__*/_jsxs(\"p\",{className:\"loginsignup-login\",children:[\"Create an account? \",/*#__PURE__*/_jsx(\"span\",{onClick:()=>{setState(\"Sign Up\");},children:\"Click here\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"loginsignup-agree\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"\",id:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:\"By continuing, I agree to the terms of use and privacy policy\"})]})]})});};","map":{"version":3,"names":["React","useState","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","LoginSignup","state","setState","formData","setFormData","username","password","email","changeHandler","e","_objectSpread","target","name","value","login","console","log","responseData","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","data","success","localStorage","setItem","token","String","toLowerCase","_unused","window","location","replace","alert","errors","signup","_unused2","error","className","children","onChange","type","placeholder","onClick","id"],"sources":["D:/ec/E_Commerence/frontend/src/Pages/LoginSignup.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport './CSS/LoginSignup.css'\r\n\r\nexport const LoginSignup = () => {\r\n  const [state,setState]=useState(\"Login\");\r\n  const[formData,setFormData]=useState({\r\n    username:\"\",\r\n    password:\"\",\r\n    email:\"\"\r\n  })\r\n  const changeHandler=(e)=>{\r\n    setFormData({...formData,[e.target.name]:e.target.value})\r\n  }\r\n  const login=async()=>{\r\n    console.log(\"Login Function Executed\",formData);\r\n     let responseData;\r\n    await fetch('http://localhost:4000/login',{\r\n      method:'POST',\r\n      headers:{\r\n        Accept:'application/form-data',\r\n        'Content-Type':'application/json',\r\n      },\r\n      body:JSON.stringify(formData),\r\n    }).then((response)=>response.json()).then((data)=>responseData=data)\r\n    if(responseData.success){\r\n      localStorage.setItem('auth-token',responseData.token);\r\n      if (formData.email) {\r\n        try { localStorage.setItem('user-key', String(formData.email).toLowerCase()); } catch {}\r\n      }\r\n      window.location.replace(\"/\");\r\n    }\r\n    else{\r\n      alert(responseData.errors);\r\n    }\r\n  }\r\n\r\n  const signup=async()=>{\r\n     console.log(\"Signup Function Executed\",formData)\r\n    let responseData;\r\n    await fetch('http://localhost:4000/signup',{\r\n      method:'POST',\r\n      headers:{\r\n        Accept:'application/form-data',\r\n        'Content-Type':'application/json',\r\n      },\r\n      body:JSON.stringify(formData),\r\n    }).then((response)=>response.json()).then((data)=>responseData=data)\r\n    if(responseData.success){\r\n      localStorage.setItem('auth-token',responseData.token);\r\n      if (formData.email) {\r\n        try { localStorage.setItem('user-key', String(formData.email).toLowerCase()); } catch {}\r\n      }\r\n      window.location.replace(\"/\");\r\n    }\r\n    else{\r\n      alert(responseData.error);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className='loginsignup'>\r\n      <div className='loginsignup-container'>\r\n        <h1>{state}</h1>\r\n        <div className='loginsignup-fields'>\r\n          {state===\"Sign Up\"?<input name='username'value={formData.username} onChange={changeHandler} type=\"text\" placeholder='Your Name'/>:<></>}\r\n          <input name='email' value={formData.email} onChange={changeHandler} type=\"email\" placeholder='Email Address'/>\r\n          <input name='password' value={formData.password}onChange={changeHandler} type=\"password\" placeholder='Password'/>\r\n        </div>\r\n        <button onClick={()=>{state===\"Login\"?login():signup()}}>Continue</button>\r\n        {state===\"Sign Up\"?<p className='loginsignup-login'>Already have an account? <span onClick={()=>{setState(\"Login\")}}>Login here</span></p>:        \r\n        <p className='loginsignup-login'>Create an account? <span onClick={()=>{setState(\"Sign Up\")}}>Click here</span></p>}\r\n        <div className='loginsignup-agree'>\r\n          <input type=\"checkbox\"name='' id=''/>\r\n          <p>By continuing, I agree to the terms of use and privacy policy</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}